{"version":3,"sources":["portal.yml","midi.ts","PianoSheet/styled.ts","PianoSheet/keySheet.tsx","PianoSheet/PianoSheet.tsx","PianoSheet/PianoApp.tsx","index.web.ts"],"names":["module","exports","MessageStatus","NoteCode","Background","styled","div","BodyContainer","NoteName","KeyName","Kbd","kbd","FnKbd","EmojiIcon","span","Piano","ReactPiano","KeyDisplay","backspace","delete","enter","tab","escape","up","ArrowUpOutlined","down","ArrowDownOutlined","right","ArrowRightOutlined","left","ArrowLeftOutlined","home","end","pageUp","pageDown","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","f13","f14","f15","f16","f17","f18","f19","f20","f21","f22","f23","f24","capsLock","command","alt","rightAlt","control","leftControl","rightControl","shift","rightShift","space","printScreen","insert","menu","audioMute","role","audioVolDown","audioVolUp","audioPlay","StepForwardOutlined","audioStop","audioPause","audioPrev","BackwardOutlined","audioNext","ForwardOutlined","audioRewind","audioForward","audioRepeat","audioRandom","numpadLock","num1","num2","num3","num4","num5","num6","num7","num8","num9","num0","numpad0","numpad1","numpad2","numpad3","numpad4","numpad5","numpad6","numpad7","numpad8","numpad9","numpadPlus","numpadSub","numpadMulti","numpadDiv","numpadDot","lightsMonUp","lightsMonDown","lightsKbdToggle","lightsKbdUp","lightsKbdDown","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","tilde","dash","equal","comma","dot","slash","semicolon","quotes","openBracket","closeBracket","backslash","fn","NULL","countNotesWithoutChromatic","start","count","code","includes","NoteLabel","props","noteCode","isLower","pivot","B","group","Math","floor","abs","offset","baseNotes","map","note","toLowerCase","reverse","caleNoteName","baseName","SharpNote","BaseNote","NamedKeyLabel","portal","fnPortal","key","alterKeyMap","Map","Object","values","entries","reduce","prev","curr","filter","alterKey","get","Boolean","length","NoteKey","isAccidental","noteLabel","NoteWrapper","portalConfig","noteRange","first","MidiNumbers","fromNote","last","rootElement","document","getElementById","ReactDOM","render","React","createElement","url","process","backgroundColor","color","svgStyle","position","width","playNote","playProps","console","log","stopNote","disabled","keyWidthToHeight","renderNoteLabel","midiNumber"],"mappings":"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","file":"static/js/main.a2d97a82.chunk.js","sourcesContent":["module.exports = {\"playMode\":{\"enable\":false,\"toggle\":[\"CSharp\",\"DSharp\",\"aSharp2\"]},\"portal\":{\"C\":\"fn\",\"CSharp\":\"escape\",\"D\":\"home\",\"DSharp\":null,\"E\":\"end\",\"F\":\"tilde\",\"FSharp\":\"tab\",\"G\":\"control\",\"GSharp\":\"capsLock\",\"A\":\"alt\",\"ASharp\":\"shift\",\"B\":\"command\",\"c\":\"a\",\"cSharp\":\"q\",\"d\":\"z\",\"dSharp\":\"w\",\"e\":\"s\",\"f\":\"x\",\"fSharp\":\"e\",\"g\":\"c\",\"gSharp\":\"d\",\"a\":\"f\",\"aSharp\":\"r\",\"b\":\"v\",\"c1\":\"space\",\"cSharp1\":\"t\",\"d1\":\"b\",\"dSharp1\":\"g\",\"e1\":\"h\",\"f1\":\"n\",\"fSharp1\":\"y\",\"g1\":\"j\",\"gSharp1\":\"u\",\"a1\":\"k\",\"aSharp1\":\"i\",\"b1\":\"m\",\"c2\":\"l\",\"cSharp2\":\"o\",\"d2\":\"comma\",\"dSharp2\":\"p\",\"e2\":\"dot\",\"f2\":\"slash\",\"fSharp2\":\"openBracket\",\"g2\":\"semicolon\",\"gSharp2\":\"closeBracket\",\"a2\":\"quotes\",\"aSharp2\":\"enter\",\"b2\":\"backslash\",\"c3\":\"left\",\"cSharp3\":\"backspace\",\"d3\":\"down\",\"dSharp3\":\"up\",\"e3\":\"right\",\"f3\":\"delete\",\"fSharp3\":\"backspace\",\"g3\":\"audioVolDown\",\"gSharp3\":\"audioVolUp\",\"a3\":\"lightsMonDown\",\"aSharp3\":\"lightsMonUp\",\"b3\":\"dash\",\"c4\":\"equal\"},\"fnPortal\":{\"C\":{\"D\":\"audioPrev\",\"DSharp\":\"audioPlay\",\"E\":\"audioNext\",\"cSharp\":\"f1\",\"d\":\"f2\",\"dSharp\":\"f3\",\"e\":\"f4\",\"f\":\"f5\",\"fSharp\":\"f6\",\"g\":\"f7\",\"gSharp\":\"f8\",\"a\":\"f9\",\"aSharp\":\"f10\",\"b\":\"f11\",\"c1\":\"f12\",\"c3\":\"tilde\",\"cSharp3\":\"num1\",\"d3\":\"num2\",\"dSharp3\":\"num3\",\"e3\":\"num4\",\"f3\":\"num5\",\"fSharp3\":\"num6\",\"g3\":\"num7\",\"gSharp3\":\"num8\",\"a3\":\"num9\",\"aSharp3\":\"num0\",\"b3\":\"pageDown\",\"c4\":\"pageUp\"},\"CSharp\":{\"aSharp2\":null}}}","// https://www.midi.org/specifications/item/table-1-summary-of-midi-message\nexport enum MessageStatus {\n  noteOffEvent = 0b1000 << 4,\n  noteOnEvent = 0b1001 << 4,\n  polyphonicPressure = 0b1010 << 4,\n  controlChange = 0b1011 << 4,\n  programChange = 0b1100 << 4,\n  channelPressure = 0b1101 << 4,\n  pitchBendChange = 0b1110 << 4,\n}\n\nexport type MessageData = number\n\nexport type Message = [\n  MessageStatus,\n  MessageData,\n  MessageData,\n]\n\n// Helmholtz pitch notation\n// https://en.wikipedia.org/wiki/Helmholtz_pitch_notation\n// 88 keys: [A2 ... c5]\n// 61 keys: [C ... c4]\nexport enum NoteCode {\n  C2 = 12,\n  CSharp2,\n  D2,\n  DSharp2,\n  E2,\n  F2,\n  FSharp2,\n  G2,\n  GSharp2,\n  A2,\n  ASharp2,\n  B2,\n\n  C1,\n  CSharp1,\n  D1,\n  DSharp1,\n  E1,\n  F1,\n  FSharp1,\n  G1,\n  GSharp1,\n  A1,\n  ASharp1,\n  B1,\n\n  C,\n  CSharp,\n  D,\n  DSharp,\n  E,\n  F,\n  FSharp,\n  G,\n  GSharp,\n  A,\n  ASharp,\n  B,\n\n  c,\n  cSharp,\n  d,\n  dSharp,\n  e,\n  f,\n  fSharp,\n  g,\n  gSharp,\n  a,\n  aSharp,\n  b,\n\n  c1,\n  cSharp1,\n  d1,\n  dSharp1,\n  e1,\n  f1,\n  fSharp1,\n  g1,\n  gSharp1,\n  a1,\n  aSharp1,\n  b1,\n\n  c2,\n  cSharp2,\n  d2,\n  dSharp2,\n  e2,\n  f2,\n  fSharp2,\n  g2,\n  gSharp2,\n  a2,\n  aSharp2,\n  b2,\n\n  c3,\n  cSharp3,\n  d3,\n  dSharp3,\n  e3,\n  f3,\n  fSharp3,\n  g3,\n  gSharp3,\n  a3,\n  aSharp3,\n  b3,\n\n  c4,\n  cSharp4,\n  d4,\n  dSharp4,\n  e4,\n  f4,\n  fSharp4,\n  g4,\n  gSharp4,\n  a4,\n  aSharp4,\n  b4,\n\n  c5,\n  cSharp5,\n  d5,\n  dSharp5,\n  e5,\n  f5,\n  fSharp5,\n  g5,\n  gSharp5,\n  a5,\n  aSharp5,\n  b5,\n\n  c6,\n}\n\nexport type NoteNameKey = (keyof typeof NoteCode)\n\nexport type NoteVelocity = number\n\nexport type NoteEvent = Extract<\n  MessageStatus,\n  typeof MessageStatus.noteOnEvent | typeof MessageStatus.noteOffEvent\n>\n\nexport type NoteMessage = [\n  NoteEvent,\n  NoteCode,\n  NoteVelocity,\n]\n\nexport type Timestamp = number\n","import styled from '@emotion/styled'\nimport { Piano as ReactPiano } from 'react-piano'\n\n\nexport const Background = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`\n\nexport const BodyContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin: auto;\n  justify-content: center;\n`\n\nexport const NoteName = styled.div`\n  padding: 0 0 2px 4px;\n  text-align: left;\n  color: var(--base-note-name-color);\n  font-size: 14px;\n  user-select: none;\n\n  sub {\n    position: absolute;\n    bottom: 0;\n  }\n`\n\nexport const KeyName = styled.div`\n  margin-bottom: 12px;\n  text-align: center;\n  font-size: 14px;\n  user-select: none;\n\n  .anticon svg {\n    font-size: 16px;\n  }\n`\n\nexport const Kbd = styled.kbd`\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  height: 20px;\n  margin-top: 14px;\n  padding: 1px 5px;\n  min-width: 12px;\n  line-height: 20px;\n  text-align: center;\n  vertical-align: middle;\n  background-color: var(--kbd-background);\n  font-family: \"SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace\";\n  border-radius: 3px;\n  border: 1px solid var(--kbd-border-color);\n  box-shadow: 0 1.5px 0 var(--kbd-border-color);\n`\n\nexport const FnKbd = styled(Kbd)`\n  color: var(--active-note-color);\n  text-shadow: 0 0 0 var(--active-note-color);\n  border-color: var(--active-note-color);\n  box-shadow: 0 1.5px 0 var(--active-note-color);\n`\n\nexport const EmojiIcon = styled.span`\n  color: transparent;\n  width: 14px;\n  overflow-x: hidden;\n`\n\nexport const Piano = styled(ReactPiano)`\n  margin: 0 10px;\n\n  .ReactPiano__Key--natural {\n    background: var(--base-note-color);\n    border: none;\n    box-shadow: 0 0 0 1px var(--global-background);\n  }\n\n  .ReactPiano__Key--accidental {\n    height: 64%;\n    border: none;\n    background: var(--sharp-note-color);\n  }\n\n  .ReactPiano__Key--active {\n    border: none;\n    background: var(--active-note-color);\n\n    &.ReactPiano__Key--natural {\n      height: unset;\n    }\n\n    &.ReactPiano__Key--natural, &.ReactPiano__Key--accidental {\n      .ReactPiano__NoteLabelContainer kbd {\n        color: var(--sharp-note-text-color);\n        text-shadow: 0 0 0 var(--sharp-note-text-color);\n        border: 1px solid var(--kbd-border-color);\n        box-shadow: 0 1.5px 0 var(--kbd-border-color);\n      }\n    }\n  }\n\n  .ReactPiano__Key {\n    border-top: 10px solid var(--piano-header-background);\n  }\n`\n","/* eslint-disable jsx-a11y/accessible-emoji*/\nimport React from 'react'\nimport {\n  ArrowUpOutlined,\n  ArrowDownOutlined,\n  ArrowLeftOutlined,\n  ArrowRightOutlined,\n  StepForwardOutlined,\n  ForwardOutlined,\n  BackwardOutlined,\n} from '@ant-design/icons'\nimport { NamedKey } from '../keyboard'\nimport * as S from './styled'\n\n\nexport const KeyDisplay: Record<keyof typeof NamedKey, React.ReactNode> = {\n  backspace: '⌫',\n  delete: '⌦',\n  enter: '↩︎',\n  tab: '⇥',\n  escape: 'Esc',\n  up: <ArrowUpOutlined />,\n  down: <ArrowDownOutlined />,\n  right: <ArrowRightOutlined />,\n  left: <ArrowLeftOutlined />,\n  home: 'Home',\n  end: 'End',\n  pageUp: 'Page⇞',\n  pageDown: 'Page⇟',\n\n  f1: 'F1',\n  f2: 'F2',\n  f3: 'F3',\n  f4: 'F4',\n  f5: 'F5',\n  f6: 'F6',\n  f7: 'F7',\n  f8: 'F8',\n  f9: 'F9',\n  f10: 'F10',\n  f11: 'F11',\n  f12: 'F12',\n  f13: 'F13',\n  f14: 'F14',\n  f15: 'F15',\n  f16: 'F16',\n  f17: 'F17',\n  f18: 'F18',\n  f19: 'F19',\n  f20: 'F20',\n  f21: 'F21',\n  f22: 'F22',\n  f23: 'F23',\n  f24: 'F24',\n\n  capsLock: '⇪',\n  command: '⌘',\n  alt: '⌥',\n  rightAlt: '⌥',\n  control: '⌃',\n  leftControl: '⌃',\n  rightControl: '⌃',\n  shift: '⇧',\n  rightShift: '⇧',\n  space: 'Space',\n  printScreen: 'Screen',\n  insert: 'Insert',\n  menu: 'Menu',\n\n  audioMute: <S.EmojiIcon role=\"img\">🔊</S.EmojiIcon>,\n  audioVolDown: <><S.EmojiIcon role=\"img\">🔊</S.EmojiIcon>-</>,\n  audioVolUp: <><S.EmojiIcon role=\"img\">🔊</S.EmojiIcon>+</>,\n  audioPlay: <StepForwardOutlined />,\n  audioStop: <StepForwardOutlined />,\n  audioPause: <StepForwardOutlined />,\n  audioPrev: <BackwardOutlined />,\n  audioNext: <ForwardOutlined />,\n  audioRewind: 'Rewind',\n  audioForward: 'Forward',\n  audioRepeat: '⎔',\n  audioRandom: 'Random',\n  numpadLock: 'NumLock',\n\n  num1: '1',\n  num2: '2',\n  num3: '3',\n  num4: '4',\n  num5: '5',\n  num6: '6',\n  num7: '7',\n  num8: '8',\n  num9: '9',\n  num0: '0',\n\n  numpad0: '0',\n  numpad1: '1',\n  numpad2: '2',\n  numpad3: '3',\n  numpad4: '4',\n  numpad5: '5',\n  numpad6: '6',\n  numpad7: '7',\n  numpad8: '8',\n  numpad9: '9',\n  numpadPlus: '+',\n  numpadSub: '-',\n  numpadMulti: '*',\n  numpadDiv: '/',\n  numpadDot: '.',\n  lightsMonUp: <S.EmojiIcon role=\"img\">🔆</S.EmojiIcon>,\n  lightsMonDown: <S.EmojiIcon role=\"img\">🔅</S.EmojiIcon>,\n  lightsKbdToggle: 'Toggle',\n  lightsKbdUp: <S.EmojiIcon role=\"img\">⌨️🔆</S.EmojiIcon>,\n  lightsKbdDown: <S.EmojiIcon role=\"img\">⌨️🔅</S.EmojiIcon>,\n\n  a: 'A',\n  b: 'B',\n  c: 'C',\n  d: 'D',\n  e: 'E',\n  f: 'F',\n  g: 'G',\n  h: 'H',\n  i: 'I',\n  j: 'J',\n  k: 'K',\n  l: 'L',\n  m: 'M',\n  n: 'N',\n  o: 'O',\n  p: 'P',\n  q: 'Q',\n  r: 'R',\n  s: 'S',\n  t: 'T',\n  u: 'U',\n  v: 'V',\n  w: 'W',\n  x: 'X',\n  y: 'Y',\n  z: 'Z',\n\n  tilde: '`',\n\n  dash: '-',\n  equal: '=',\n\n  comma: ',',\n  dot: '.',\n  slash: '/',\n\n  semicolon: ';',\n  quotes: '\\'',\n\n  openBracket: '[',\n  closeBracket: ']',\n  backslash: '\\\\',\n\n  fn: 'Fn',\n  NULL: '',\n}\n","import React from 'react'\nimport styled from '@emotion/styled'\nimport { NoteCode } from '../midi'\nimport { PortalMap, FnPortalMaps } from '../portal'\nimport { KeyDisplay } from './keySheet'\nimport * as S from './styled'\nimport 'react-piano/dist/styles.css'\n\n\nexport const caleNoteName = (noteCode: NoteCode): [string, number] => {\n  const isLower = noteCode >= NoteCode.c\n  const pivot: NoteCode = isLower ? NoteCode.c : NoteCode.B\n  const group = Math.floor(Math.abs(noteCode - pivot) / 12)\n  const offset = Math.abs(noteCode - pivot) % 12\n  const baseNotes = ['C', 'C#', 'D', 'D#', 'E', 'F', 'F#', 'G', 'G#', 'A', 'A#', 'B']\n\n  const notes = isLower\n    ? baseNotes.map(note => note.toLowerCase())\n    : baseNotes.reverse()\n\n  return [notes[offset], group]\n}\n\nexport const countNotesWithoutChromatic = (start: NoteCode, end: NoteCode): number => {\n  let count = 0\n  for (let code = start; code <= end; code++) {\n    if (!NoteCode[code].includes('Sharp')) {\n      count += 1\n    }\n  }\n  return count\n}\n\nexport const NoteLabel = (props: {\n  noteCode: NoteCode,\n}) => {\n  const { noteCode } = props\n\n  const [baseName, group] = caleNoteName(noteCode)\n\n  return (\n    <S.NoteName>\n      <span>\n        {baseName}\n        {group ? <sub>{group}</sub> : null}\n      </span>\n    </S.NoteName>\n  )\n}\n\nexport const SharpNote = styled.div`\n  padding-bottom: 8px;\n  color: var(--sharp-note-text-color);\n  text-shadow: 0 0 0 var(--sharp-note-text-color);\n`\n\nexport const BaseNote = styled.div`\n  color: var(--base-note-text-color);\n  text-shadow: 0 0 0 var(--base-note-text-color);\n`\n\nexport const NamedKeyLabel = (props: {\n  noteCode: NoteCode,\n  portal: PortalMap,\n  fnPortal: FnPortalMaps,\n}) => {\n  const { noteCode, portal, fnPortal } = props\n  const note = NoteCode[noteCode]\n  const key = KeyDisplay[portal[note]]\n  const alterKeyMap = new Map(\n    Object.values(fnPortal)\n      .map(portal => Object.entries(portal))\n      .reduce((prev, curr) => [...prev, ...curr], [])\n      .filter(([, key]) => key),\n  )\n\n  const alterKey = KeyDisplay[alterKeyMap.get(note)]\n\n  if (alterKey) {\n    return (\n      <S.KeyName>\n        <div>\n          <S.FnKbd>{alterKey}</S.FnKbd>\n        </div>\n        {key\n          ? <S.Kbd>{key}</S.Kbd>\n          : null\n        }\n      </S.KeyName>\n    )\n  }\n\n  if (!key) return null\n\n  if (fnPortal[note] && Object.values(fnPortal[note]).filter(Boolean).length > 0) {\n    return (\n      <S.KeyName>\n        <S.FnKbd>{key}</S.FnKbd>\n      </S.KeyName>\n    )\n  }\n\n\n  return (\n    <S.KeyName>\n      <S.Kbd>{key}</S.Kbd>\n    </S.KeyName>\n  )\n}\n\nexport const NoteKey = (props: {\n  noteCode: NoteCode,\n  isAccidental: boolean,\n  portal: PortalMap,\n  fnPortal: FnPortalMaps,\n}) => {\n  const { noteCode, isAccidental, portal, fnPortal } = props\n\n  const noteLabel = <NoteLabel noteCode={noteCode} />\n  const NoteWrapper = isAccidental ? SharpNote : BaseNote\n\n  return (\n    <NoteWrapper>\n      <NamedKeyLabel\n        noteCode={noteCode}\n        portal={portal}\n        fnPortal={fnPortal}\n      />\n      {isAccidental ? null : noteLabel}\n    </NoteWrapper>\n  )\n}\n","// https://github.com/kevinsqi/react-piano\n// https://github.com/lillydinhle/react-piano-component\n\nimport React from 'react'\nimport { MidiNumbers } from 'react-piano'\nimport GithubCorner from 'react-github-corners'\nimport { PortalMap, FnPortalMaps } from '../portal'\nimport { NoteKey, countNotesWithoutChromatic } from './PianoSheet'\nimport * as S from './styled'\n\nimport portalConfig from '../portal.yml'\nimport 'react-piano/dist/styles.css'\nimport 'react-github-corners/dist/GithubCorner.css'\n\n\nexport const noteKeyWidth = 70\nexport const noteKeyWidthHeightRatio = 1 / 4.8\n\nconst { portal, fnPortal } = portalConfig as {\n  portal: PortalMap,\n  fnPortal: FnPortalMaps,\n}\n\nexport const noteRange = {\n  first: MidiNumbers.fromNote('C2'),\n  last: MidiNumbers.fromNote('C7'),\n}\n\n\nexport const App = () => (\n  <S.Background>\n    <GithubCorner\n      url={process.env.REACT_APP_PROJECT_REPO}\n      backgroundColor={'white'}\n      color={'var(--global-background)'}\n      svgStyle={{\n        position: 'fixed',\n      }}\n    />\n    <S.BodyContainer>\n      <S.Piano\n        noteRange={noteRange}\n        width={countNotesWithoutChromatic(noteRange.first, noteRange.last) * noteKeyWidth}\n        playNote={(...playProps) => console.log('[Piano] playProps', playProps)}\n        stopNote={(...playProps) => console.log('[Piano] stopNote', playProps)}\n        disabled={false}\n        keyWidthToHeight={noteKeyWidthHeightRatio}\n        renderNoteLabel={({ midiNumber, isAccidental }) => {\n          return (\n            <NoteKey\n              noteCode={midiNumber}\n              isAccidental={isAccidental}\n              portal={portal}\n              fnPortal={fnPortal}\n            />\n          )\n        }}\n      />\n    </S.BodyContainer>\n  </S.Background>\n)\n\n\n\n\n","/**\n * `index.web.ts` is in front of `index.ts`\n *\n * due to extension order in `moduleFileExtensions`\n *\n * https://github.com/facebook/create-react-app/blob/master/packages/react-scripts/config/paths.js#L32\n */\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport { App } from './PianoSheet'\nimport './index.css'\n\n\nconst rootElement = document.getElementById('root')\nReactDOM.render(\n  React.createElement(App),\n  rootElement,\n)\n\n\n"],"sourceRoot":""}